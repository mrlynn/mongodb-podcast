(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/a9y":function(t,e,a){"use strict";var n=a("lwsE"),r=a("W8MJ"),o=a("7W2i"),i=a("a1gu"),s=a("Nsbk");function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=s(t);if(e){var r=s(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return i(this,a)}}var c=a("TqRt");e.__esModule=!0,e.default=void 0;var u=c(a("q1tI")),p=c(a("8Kt/")),f={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function m(t){var e=t.res,a=t.err;return{statusCode:e&&e.statusCode?e.statusCode:a?a.statusCode:404}}var d=function(t){o(a,t);var e=l(a);function a(){return n(this,a),e.apply(this,arguments)}return r(a,[{key:"render",value:function(){var t=this.props.statusCode,e=this.props.title||f[t]||"An unexpected error has occurred";return u.default.createElement("div",{style:y.error},u.default.createElement(p.default,null,u.default.createElement("title",null,t,": ",e)),u.default.createElement("div",null,u.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body { margin: 0 }"}}),t?u.default.createElement("h1",{style:y.h1},t):null,u.default.createElement("div",{style:y.desc},u.default.createElement("h2",{style:y.h2},e,"."))))}}]),a}(u.default.Component);e.default=d,d.displayName="ErrorPage",d.getInitialProps=m,d.origGetInitialProps=m;var y={error:{color:"#000",background:"#fff",fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Fira Sans", Avenir, "Helvetica Neue", "Lucida Grande", sans-serif',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block",textAlign:"left",lineHeight:"49px",height:"49px",verticalAlign:"middle"},h1:{display:"inline-block",borderRight:"1px solid rgba(0, 0, 0,.3)",margin:0,marginRight:"20px",padding:"10px 23px 10px 0",fontSize:"24px",fontWeight:500,verticalAlign:"top"},h2:{fontSize:"14px",fontWeight:"normal",lineHeight:"inherit",margin:0,padding:0}}},Lnxd:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("q1tI"),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(r),i=function(){return(i=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},s=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&(a[n[r]]=t[n[r]])}return a};function l(t){return function(e){return n.createElement(c,i({attr:i({},t.attr)},e),function t(e){return e&&e.map((function(e,a){return n.createElement(e.tag,i({key:a},e.attr),t(e.child))}))}(t.child))}}function c(t){var e=function(e){var a,r=t.size||e.size||"1em";e.className&&(a=e.className),t.className&&(a=(a?a+" ":"")+t.className);var o=t.attr,l=t.title,c=s(t,["attr","title"]);return n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,o,c,{className:a,style:i({color:t.color||e.color},e.style,t.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),t.children)};return void 0!==o?n.createElement(o.Consumer,null,(function(t){return e(t)})):e(r)}},YsYa:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/show/[number]/[slug]",function(){return a("eglY")}])},eglY:function(t,e,a){"use strict";a.r(e),a.d(e,"__N_SSG",(function(){return F}));var n=a("1OyB"),r=a("vuIU"),o=a("JX7q"),i=a("Ji7U"),s=a("md7G"),l=a("foSv");function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u=a("nOHt"),p=a("eomm"),f=a.n(p),m=a("q1tI"),d=a.n(m),y=a("VbIB"),h=a.n(y),v=a("ma3e"),g=d.a.createElement,b=function(t){var e=t.isPlaying;return g("div",{className:"bars ".concat(e?"":"bars--paused")},g("div",{className:"bar"}),g("div",{className:"bar"}),g("div",{className:"bar"}),g("div",{className:"bar"}),g("div",{className:"bar"}),g("div",{className:"bar"}),g("div",{className:"bar"}))},N=a("YFqc"),S=a.n(N),w=d.a.createElement;function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var O=function(t){Object(i.a)(a,t);var e=P(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this.props,e=t.show,a=t.currentPlaying,n=t.currentShow,r=t.setCurrentPlaying,o=t.isPlaying;return w("div",{className:"show ".concat(a===e.displayNumber?"show--playing":""," ").concat(n===e.displayNumber?"show--active":"","\n      ")},w(S.a,{shallow:!0,scroll:!1,href:"/show/[number]/[slug]",as:"/show/".concat(e.displayNumber,"/").concat(h()(e.title))},w("a",{className:"show__link"},w("div",{className:"show__container"},w("p",{className:"show__displayNumber"},"Episode ",e.displayNumber),w("span",{className:"show__seperator"}," | "),w("p",{className:"show__modifiedDate"},e.displayDate)),w("h3",{className:"show__title"},e.title))),w("div",{className:"show__playcontrols"},a===e.displayNumber?w(b,{isPlaying:o}):w("button",{type:"button",onClick:function(){return r(e.displayNumber)},className:"show__play",title:"play button"},w(v.b,null))))}}]),a}(d.a.Component),_=d.a.createElement,k=function(t){var e=t.shows,a=t.currentPlaying,n=t.currentShow,r=t.setCurrentPlaying,o=t.isPlaying;return _("div",{className:"showList"},e.map((function(t){return _(O,{setCurrentPlaying:r,currentPlaying:a,currentShow:n,key:t.number,show:t,isPlaying:o})})),_("div",{className:"show show--dummy"}))},j=d.a.createElement,R=function(t){var e=t.show,a=t.setCurrentPlaying;return Object(m.useEffect)((function(){document.querySelector(".showNotes").scrollTop=0})),j("div",{className:"showNotes"},j("p",{className:"show__date"},e.displayDate),j("h2",null,e.title),j("button",{className:"button",onClick:function(){return a(e.displayNumber)},type:"button"},j("span",{className:"icon"},"\ud83c\udfb5")," Play Episode ",e.displayNumber),j("a",{className:"button",download:!0,href:e.url},j("span",{className:"icon"},"\ud83d\udc47")," Download Show"),j("a",{className:"button",href:"https://github.com/mrlynn/mongodb-podcast/edit/master/".concat(e.notesFile),target:"_blank",rel:"noopener noreferrer"},j("span",{className:"icon"},"\u270f\ufe0f")," Edit Show Notes"),j("div",{dangerouslySetInnerHTML:{__html:e.html}}))};function C(t){var e=Math.floor(~~(t/3600)),a=Math.floor(~~(t%3600/60)),n=Math.floor(t%60),r="";return e>0&&(r+="".concat(e,":").concat(a<10?"0":"")),r+="".concat(a,":").concat(n<10?"0":""),r+="".concat(n)}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function E(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return T(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=d.a.createElement;function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var D=function(t){return Array.from({length:t},(function(t,e){return 10*(e+1)})).map((function(t){var e=t/110;return{integer:"".concat(t),deci:"".concat(e),vol:"vol".concat(t),level:"Volume Level ".concat(t,"/110"),checked:!0}}))},L=function(t){Object(i.a)(a,t);var e=x(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),c(Object(o.a)(t),"state",{volumeBarList:D(11)}),c(Object(o.a)(t),"handleOnClick",(function(e){for(var a=E(t.state.volumeBarList),n=0;n<=e;n++)a[n].checked=!0;for(var r=e+1;r<11;r++)a[r].checked=null;t.setState({volumeBarList:a})})),t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("lastVolumeBarsOn");t&&this.setState({volumeBarList:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(){var t=this.state.volumeBarList,e=JSON.stringify(t);localStorage.setItem("lastVolumeBarsOn",e)}},{key:"render",value:function(){var t=this,e=this.props.volume,a=this.state.volumeBarList;return I(m.Fragment,null,a.map((function(a,n){return I(m.Fragment,{key:a.integer},I("input",{onClick:function(){t.handleOnClick(n)},onChange:e,type:"radio",name:"volume",value:a.deci,id:a.vol,className:"sr-only"}),I("label",{htmlFor:a.vol,style:a.integer>100&&a.checked?{background:"#f1c15d"}:a.checked?{background:"#03fff3"}:{background:"#e4e4e4"}},I("span",{className:"sr-only"},a.level)))})))}}]),a}(m.Component),U=d.a.createElement;function J(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var V=function(t){Object(i.a)(a,t);var e=J(a);function a(t){var r;Object(n.a)(this,a),r=e.call(this,t),c(Object(o.a)(r),"timeUpdate",(function(t){var e=r.props.show;if(r.state.timeWasLoaded){var a=localStorage.getItem("lastPlayed".concat(e.number));a&&(t.currentTarget.currentTime=JSON.parse(a).lastPlayed),r.setState({timeWasLoaded:!1})}else{var n=t.currentTarget,o=n.currentTime,i=void 0===o?0:o,s=n.duration,l=void 0===s?0:s,c=i/l*100;if(Number.isNaN(c))return;r.setState({progressTime:c,currentTime:i,duration:l})}})),c(Object(o.a)(r),"volumeUpdate",(function(t){if(r.state.timeWasLoaded){var e=localStorage.getItem("lastVolumeSetting");e&&(t.currentTarget.volume=JSON.parse(e).lastVolumePref),r.setState({timeWasLoaded:!1})}})),c(Object(o.a)(r),"groupUpdates",(function(t){r.timeUpdate(t),r.volumeUpdate(t)})),c(Object(o.a)(r),"togglePlay",(function(){var t=r.state.playing?"pause":"play";r.audio[t]()})),c(Object(o.a)(r),"scrubTime",(function(t){return t.nativeEvent.offsetX/r.progress.offsetWidth*r.audio.duration})),c(Object(o.a)(r),"scrub",(function(t){r.audio.currentTime=r.scrubTime(t)})),c(Object(o.a)(r),"seekTime",(function(t){r.setState({tooltipPosition:t.nativeEvent.offsetX,tooltipTime:C(r.scrubTime(t))})})),c(Object(o.a)(r),"playPause",(function(){r.setState({playing:!r.audio.paused}),r.props.onPlayPause(r.audio)})),c(Object(o.a)(r),"volume",(function(t){r.audio.volume=t.currentTarget.value,r.setState({currentVolume:"".concat(t.currentTarget.value)})})),c(Object(o.a)(r),"speedUp",(function(){r.speed(.25)})),c(Object(o.a)(r),"speedDown",(function(t){t.preventDefault(),r.speed(-.25)})),c(Object(o.a)(r),"speed",(function(t){var e=r.state.playbackRate+t;e>2.5&&(e=.75),e<.75&&(e=2.5),r.setState({playbackRate:e})}));var i=0,s=1,l=1,u=r.props.show,p=localStorage.getItem("lastPlayed".concat(u.number)),f=localStorage.getItem("lastVolumeSetting"),m=localStorage.getItem("lastPlaybackSetting");return p&&(i=JSON.parse(p).lastPlayed),f&&(s=JSON.parse(f).lastVolumePref),m&&(l=JSON.parse(m).lastPlaybackRate),r.state={progressTime:50,playing:!1,duration:0,currentTime:i,currentVolume:s,playbackRate:l,timeWasLoaded:0!==i,showTooltip:!1,tooltipPosition:0,tooltipTime:"0:00"},r}return Object(r.a)(a,[{key:"componentWillUpdate",value:function(t,e){this.audio.playbackRate=e.playbackRate}},{key:"componentDidUpdate",value:function(t,e){var a=this.props.show,n=this.state,r=n.currentTime,o=n.currentVolume,i=n.playbackRate;if(a.number!==t.show.number){var s=localStorage.getItem("lastPlayed".concat(a.number));if(s){var l=localStorage.getItem("lastVolumeSetting"),c=localStorage.getItem("lastPlaybackSetting"),u=JSON.parse(s),p=JSON.parse(l),f=JSON.parse(c);this.setState({currentTime:u.lastPlayed,currentVolume:p.lastVolumePref,playbackRate:f.lastPlaybackRate}),this.audio.currentTime=u.lastPlayed,this.audio.volume=p.lastVolumePref,this.audio.playbackRate=f.lastPlaybackRate}this.audio.play()}else localStorage.setItem("lastPlayed".concat(a.number),JSON.stringify({lastPlayed:r})),localStorage.setItem("lastVolumeSetting",JSON.stringify({lastVolumePref:o})),localStorage.setItem("lastPlaybackSetting",JSON.stringify({lastPlaybackRate:i}))}},{key:"render",value:function(){var t=this,e=this.props.show,a=this.state,n=a.playing,r=a.playbackRate,o=a.progressTime,i=a.currentTime,s=a.duration,l=a.showTooltip,c=a.tooltipPosition,u=a.tooltipTime;return U("div",{className:"player"},U("div",{className:"player__section player__section--left"},U("button",{onClick:this.togglePlay,"aria-label":n?"pause":"play",type:"button"},U("p",{className:"player__icon"},U(n?v.a:v.b,null)),U("p",null,C(i)," / ",C(s)))),U("div",{className:"player__section player__section--middle"},U("div",{className:"progress",onClick:this.scrub,onMouseMove:this.seekTime,onMouseEnter:function(){t.setState({showTooltip:!0})},onMouseLeave:function(){t.setState({showTooltip:!1})},ref:function(e){return t.progress=e}},U("div",{className:"progress__time",style:{width:"".concat(o,"%")}})),U("h3",{className:"player__title"},"Playing: ",e.displayNumber,": ",e.title),U("div",{className:"player__tooltip",style:{left:"".concat(c,"px"),opacity:"".concat(l?"1":"0")}},u)),U("div",{className:"player__section player__section--right"},U("button",{onClick:this.speedUp,onContextMenu:this.speedDown,className:"player__speed",type:"button"},U("p",null,"FASTNESS"),U("span",{className:"player__speeddisplay"},r," \xd7")),U("div",{className:"player__volume"},U("p",null,"LOUDNESS"),U("div",{className:"player__inputs"},U(L,{volume:this.volume})))),U("audio",{ref:function(e){return t.audio=e},onPlay:this.playPause,onPause:this.playPause,onTimeUpdate:this.timeUpdate,onVolumeChange:this.volumeUpdate,onLoadedMetadata:this.groupUpdates,src:e.url}))}}]),a}(d.a.Component),A=a("B7CR"),M=a("F1wk"),B=d.a.createElement;function W(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var F=!0;e.default=Object(u.withRouter)(function(t){Object(i.a)(a,t);var e=W(a);function a(t){var r;Object(n.a)(this,a),r=e.call(this),c(Object(o.a)(r),"setCurrentPlaying",(function(t){console.log("Setting current playing"),r.setState({currentPlaying:t})})),c(Object(o.a)(r),"setIsPlaying",(function(t){r.setState({isPlaying:t})}));var i=t.showNumber;return r.state={currentShow:i,currentPlaying:i,isPlaying:!1},r}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(t){var e=t.router.query;e.number&&this.setState({currentShow:e.number})}},{key:"render",value:function(){var t=this,e=this.props.shows;if(!e)return B(f.a,{statusCode:404});var a=this.state,n=a.currentShow,r=a.currentPlaying,o=a.isPlaying,i=e.find((function(t){return t.displayNumber===n})),s=e.find((function(t){return t.displayNumber===r}));return B(M.a,null,B(A.a,{show:i}),B("div",{className:"wrapper"},B("main",{className:"show-wrap",id:"main",tabIndex:"-1"},B(V,{show:s,onPlayPause:function(e){return t.setIsPlaying(!e.paused)}}),B(k,{shows:e,currentShow:n,currentPlaying:r,setCurrentPlaying:this.setCurrentPlaying,isPlaying:o}),B(R,{show:i,setCurrentPlaying:this.setCurrentPlaying}))))}}]),a}(d.a.Component))},eomm:function(t,e,a){t.exports=a("/a9y")}},[["YsYa",0,2,4,1,3]]]);